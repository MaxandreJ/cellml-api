SET(IDL_LIST_CXX ${IDL_LIST})
LIST(APPEND IDL_LIST_CXX xpcom)
FILE(MAKE_DIRECTORY "${CMAKE_BINARY_DIR}/interfaces")
INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/interfaces)
FOREACH(idlfile ${IDL_LIST_CXX})
  SET(idlpath "${CMAKE_SOURCE_DIR}/interfaces/${idlfile}.idl")
  SET(headerpath "${CMAKE_BINARY_DIR}/interfaces/Iface${idlfile}.hxx")
  EXECUTE_PROCESS(COMMAND ${OMNIIDL} -bsimple_cpp -Iinterfaces -p${CMAKE_SOURCE_DIR}/simple_interface_generators/omniidl_be ${idlpath}
                  WORKING_DIRECTORY interfaces)
  INSTALL(FILES ${headerpath} DESTINATION include)
ENDFOREACH(idlfile)

FOREACH(name ${BOOTSTRAP_LIST})
  INSTALL(FILES ${BOOTSTRAP_${name}_HEADERPATH}/${BOOTSTRAP_${name}_HEADER} DESTINATION include)
ENDFOREACH(name)
